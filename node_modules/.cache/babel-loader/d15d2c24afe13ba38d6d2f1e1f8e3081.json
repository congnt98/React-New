{"ast":null,"code":"import _toConsumableArray from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from\"react\";import\"../../styles/todopro.scss\";import Form from\"../../component/todopro/form\";import Control from\"../../component/todopro/control\";import Table from\"../../component/todopro/table\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Todopro=/*#__PURE__*/function(_React$Component){_inherits(Todopro,_React$Component);var _super=_createSuper(Todopro);function Todopro(props){var _this;_classCallCheck(this,Todopro);_this=_super.call(this,props);_this.id=function(){return Math.floor(Math.random()*1000000);};_this.openForm=function(){_this.setState({isDisplayForm:true});};_this.setDefaultForm=function(){_this.setState({isDisplayForm:false,editTask:{}});};_this.onCloseForm=function(){_this.setState({isDisplayForm:false});};_this.onAddForm=function(){_this.setState({isDisplayForm:!_this.state.isDisplayForm,editTask:{}});};_this.onSubmit=function(e){var tasks=_this.state.tasks;if(e.id===''){var task={id:_this.id(),name:e.name,status:e.status==='true'?true:false};// localStorage.setItem('tasks', JSON.stringify(tasks))\n_this.setState({tasks:[].concat(_toConsumableArray(_this.state.tasks),[task])});}else{var index=tasks.findIndex(function(x){return x.id===e.id;});tasks[index]=e;}localStorage.setItem('tasks',JSON.stringify(tasks));_this.setDefaultForm();};_this.onUpdateStatus=function(id){var tasks=_this.state.tasks;var index=tasks.findIndex(function(x){return x.id===id;});// if (tasks[index].status === true) {\n//     tasks[index].status = false\n// }\n// else {\n//     tasks[index].status = true\n// }\ntasks[index].status=!tasks[index].status;_this.setState({tasks:tasks});localStorage.setItem('tasks',JSON.stringify(tasks));};_this.onDeleteTask=function(id){var tasks=_this.state.tasks;var curentTasks=tasks.filter(function(x){return x.id!==id;});_this.setState({tasks:curentTasks});localStorage.setItem('tasks',JSON.stringify(tasks));_this.onCloseForm();};_this.editTask=function(id){var tasks=_this.state.tasks;var index=tasks.findIndex(function(x){return x.id===id;});var Task=tasks[index];_this.setState({editTask:Task});_this.openForm();};_this.onFilter=function(filterName,filterStatus){// console.log(filterName, filterStatus);\nfilterStatus=parseInt(filterStatus);//console.log();filterStatus\n_this.setState({filter:{name:filterName,status:filterStatus}});};_this.onSort=function(e){var onSort=e;_this.setState({sort:onSort});};_this.onSearch=function(keyword){_this.setState({keyword:keyword});};_this.state={tasks:[],isDisplayForm:false,editTask:{},filter:{name:'',status:-1},sort:'',keyword:''};return _this;}_createClass(Todopro,[{key:\"componentDidMount\",value:function componentDidMount(){if(localStorage&&localStorage.getItem('tasks')){this.setState({tasks:JSON.parse(localStorage.getItem('tasks'))});}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,tasks=_this$state.tasks,editTask=_this$state.editTask,isDisplayForm=_this$state.isDisplayForm,filter=_this$state.filter,sort=_this$state.sort,keyword=_this$state.keyword;// console.log(sort);\nvar filterName=tasks.filter(function(str){return str.name.toLowerCase().indexOf(filter.name.toLowerCase())>=0;});tasks=filterName;var filterstatus=tasks.filter(function(task){if(filter.status===-1){return task;}else{return task.status===(filter.status===0?false:true);}});// console.log(filterstatus);\ntasks=filterstatus;//lọc tìm kiếm trong form tương tự\n// if (filter) {\n//     if (filter.name) {\n//         var tasks = tasks.filter(e => {\n//             return e.name.toLowerCase().indexOf(filter.name) !== -1\n//         })\n//     }\n// }\nif(sort!==''){if(sort==='az'){tasks.sort(function(a,b){return a.name.localeCompare(b.name);});}if(sort==='za'){tasks.sort(function(a,b){return b.name.localeCompare(a.name);});}if(sort==='kh'){tasks.sort(function(a,b){return b.status-a.status;});}if(sort==='a'){tasks.sort(function(a,b){return a.status-b.status;});}}if(keyword!==''){tasks=tasks.filter(function(str){return str.name.toLowerCase().indexOf(keyword)>=0;});}var checkForm=isDisplayForm===true?/*#__PURE__*/_jsx(Form,{onSubmit:this.onSubmit,onCloseForm:this.onCloseForm,openForm:this.openForm,editTask:editTask}):'';return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\" row_taitle text-center\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Qu\\u1EA3n L\\xFD C\\xF4ng Vi\\u1EC7c\"}),/*#__PURE__*/_jsx(\"hr\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:isDisplayForm===true?\"col-md-4\":\"col-md-0\",children:checkForm}),/*#__PURE__*/_jsxs(\"div\",{className:isDisplayForm===true?\"col-md-8\":\"col-md-12\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"btn btn-primary mx-1\",onClick:function onClick(){return _this2.onAddForm();},children:isDisplayForm===true?'Danh sách Công Việc':'Thêm Công việc'})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(Control,{onSort:this.onSort,onSearch:this.onSearch})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(Table,{tasks:tasks,onUpdateStatus:this.onUpdateStatus,onDeleteTask:this.onDeleteTask,editTask:this.editTask,onFilter:this.onFilter})})})]})]})]})});}}]);return Todopro;}(React.Component);export default Todopro;","map":{"version":3,"sources":["D:/Web/React/reactnew/src/views/todopro/todopro.js"],"names":["React","Form","Control","Table","Todopro","props","id","Math","floor","random","openForm","setState","isDisplayForm","setDefaultForm","editTask","onCloseForm","onAddForm","state","onSubmit","e","tasks","task","name","status","index","findIndex","x","localStorage","setItem","JSON","stringify","onUpdateStatus","onDeleteTask","curentTasks","filter","Task","onFilter","filterName","filterStatus","parseInt","onSort","sort","onSearch","keyword","getItem","parse","str","toLowerCase","indexOf","filterstatus","a","b","localeCompare","checkForm","Component"],"mappings":"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","sourcesContent":["import React from \"react\"\r\nimport \"../../styles/todopro.scss\"\r\nimport Form from \"../../component/todopro/form\";\r\nimport Control from \"../../component/todopro/control\";\r\nimport Table from \"../../component/todopro/table\";\r\n\r\nclass Todopro extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            tasks: [],\r\n            isDisplayForm: false,\r\n            editTask: {},\r\n            filter: {\r\n                name: '',\r\n                status: -1\r\n            },\r\n            sort: '',\r\n            keyword: ''\r\n        };\r\n    }\r\n    componentDidMount() {\r\n        if (localStorage && localStorage.getItem('tasks')) {\r\n            this.setState({\r\n                tasks: JSON.parse(localStorage.getItem('tasks'))\r\n            })\r\n        }\r\n    }\r\n    id = () => {\r\n        return Math.floor(Math.random() * 1000000);\r\n    }\r\n    openForm = () => {\r\n        this.setState({\r\n            isDisplayForm: true,\r\n        })\r\n    }\r\n    setDefaultForm = () => {\r\n        this.setState({\r\n            isDisplayForm: false,\r\n            editTask: {}\r\n        })\r\n    }\r\n    onCloseForm = () => {\r\n        this.setState({\r\n            isDisplayForm: false\r\n        })\r\n    }\r\n    onAddForm = () => {\r\n        this.setState({\r\n            isDisplayForm: !this.state.isDisplayForm,\r\n            editTask: {}\r\n        })\r\n    }\r\n    onSubmit = (e) => {\r\n        var { tasks } = this.state\r\n        if (e.id === '') {\r\n            var task = {\r\n                id: this.id(),\r\n                name: e.name,\r\n                status: e.status === 'true' ? true : false\r\n            }\r\n            // localStorage.setItem('tasks', JSON.stringify(tasks))\r\n            this.setState({\r\n                tasks: [...this.state.tasks, task]\r\n            })\r\n        }\r\n        else {\r\n            var index = tasks.findIndex(x => x.id === e.id)\r\n            tasks[index] = e\r\n        }\r\n        localStorage.setItem('tasks', JSON.stringify(tasks))\r\n        this.setDefaultForm()\r\n    }\r\n    onUpdateStatus = (id) => {\r\n        let { tasks } = this.state\r\n        var index = tasks.findIndex(x => x.id === id);\r\n        // if (tasks[index].status === true) {\r\n        //     tasks[index].status = false\r\n        // }\r\n        // else {\r\n        //     tasks[index].status = true\r\n        // }\r\n        tasks[index].status = !tasks[index].status\r\n        this.setState({\r\n            tasks: tasks\r\n        })\r\n        localStorage.setItem('tasks', JSON.stringify(tasks))\r\n    }\r\n    onDeleteTask = (id) => {\r\n        let { tasks } = this.state\r\n        const curentTasks = tasks.filter(x => x.id !== id);\r\n        this.setState({\r\n            tasks: curentTasks\r\n        })\r\n        localStorage.setItem('tasks', JSON.stringify(tasks))\r\n        this.onCloseForm()\r\n\r\n    }\r\n    editTask = (id) => {\r\n        let { tasks } = this.state\r\n        var index = tasks.findIndex(x => x.id === id);\r\n        var Task = tasks[index]\r\n        this.setState({\r\n            editTask: Task\r\n        })\r\n        this.openForm()\r\n    }\r\n    onFilter = (filterName, filterStatus) => {\r\n        // console.log(filterName, filterStatus);\r\n        filterStatus = (parseInt(filterStatus))\r\n        //console.log();filterStatus\r\n\r\n        this.setState({\r\n            filter: {\r\n                name: filterName,\r\n                status: filterStatus\r\n            }\r\n        })\r\n    }\r\n    onSort = (e) => {\r\n        var onSort = e\r\n        this.setState({\r\n            sort: onSort\r\n        })\r\n    }\r\n    onSearch = (keyword) => {\r\n        this.setState({\r\n            keyword: keyword\r\n        })\r\n    }\r\n    render() {\r\n        var { tasks, editTask, isDisplayForm, filter, sort, keyword } = this.state\r\n        // console.log(sort);\r\n        var filterName = tasks.filter((str) => {\r\n            return str.name.toLowerCase().indexOf(filter.name.toLowerCase()) >= 0;\r\n        });\r\n        tasks = filterName\r\n        var filterstatus = tasks.filter(task => {\r\n            if (filter.status === -1) {\r\n                return task\r\n            } else {\r\n                return task.status === (filter.status === 0 ? false : true)\r\n            }\r\n        })\r\n        // console.log(filterstatus);\r\n        tasks = filterstatus\r\n        //lọc tìm kiếm trong form tương tự\r\n        // if (filter) {\r\n        //     if (filter.name) {\r\n        //         var tasks = tasks.filter(e => {\r\n        //             return e.name.toLowerCase().indexOf(filter.name) !== -1\r\n        //         })\r\n        //     }\r\n        // }\r\n        if (sort !== '') {\r\n            if (sort === 'az') { tasks.sort((a, b) => a.name.localeCompare(b.name)) }\r\n            if (sort === 'za') { tasks.sort((a, b) => b.name.localeCompare(a.name)) }\r\n            if (sort === 'kh') { tasks.sort((a, b) => b.status - a.status) }\r\n            if (sort === 'a') { tasks.sort((a, b) => a.status - b.status) }\r\n        }\r\n        if (keyword !== '') {\r\n            tasks = tasks.filter((str) => {\r\n                return str.name.toLowerCase().indexOf(keyword) >= 0;\r\n            });\r\n        }\r\n        var checkForm = isDisplayForm === true ? <Form onSubmit={this.onSubmit} onCloseForm={this.onCloseForm} openForm={this.openForm} editTask={editTask} /> : ''\r\n        return (\r\n            <>\r\n                <div className=\"container\">\r\n                    <div className=\" row_taitle text-center\">\r\n                        <h3>Quản Lý Công Việc</h3>\r\n                        <hr />\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className={isDisplayForm === true ? \"col-md-4\" : \"col-md-0\"}>\r\n                            {checkForm}\r\n                        </div>\r\n                        <div className={isDisplayForm === true ? \"col-md-8\" : \"col-md-12\"}>\r\n                            <div className=\"\" >\r\n                                <h3 className=\"btn btn-primary mx-1\"\r\n                                    onClick={() => this.onAddForm()}\r\n                                >{isDisplayForm === true ? 'Danh sách Công Việc' : 'Thêm Công việc'}</h3>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <Control onSort={this.onSort} onSearch={this.onSearch} />\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                <div className=\"col\">\r\n                                    <Table\r\n                                        tasks={tasks}\r\n                                        onUpdateStatus={this.onUpdateStatus}\r\n                                        onDeleteTask={this.onDeleteTask}\r\n                                        editTask={this.editTask}\r\n                                        onFilter={this.onFilter}\r\n                                    />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Todopro;"]},"metadata":{},"sourceType":"module"}