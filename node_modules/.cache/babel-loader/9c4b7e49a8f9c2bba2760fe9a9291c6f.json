{"ast":null,"code":"import _defineProperty from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/Web/React/reactnew/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import Item from\"./item\";import React from\"react\";import{connect}from'react-redux';import*as actions from'../../store/actions/index';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Table=/*#__PURE__*/function(_React$Component){_inherits(Table,_React$Component);var _super=_createSuper(Table);function Table(props){var _this;_classCallCheck(this,Table);_this=_super.call(this,props);_this.onChangeFillter=function(e){var target=e.target;var name=target.name;var value=target.value;var filter={name:name==='filterName'?value:_this.state.filterName,status:name==='filterStatus'?value:_this.state.filterStatus};_this.props.onFilterTable(filter);_this.setState(_defineProperty({},name,value));};_this.state={filterName:'',filterStatus:-1};return _this;}_createClass(Table,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,filterName=_this$state.filterName,filterStatus=_this$state.filterStatus;var _this$props=this.props,tasks=_this$props.tasks,filterTable=_this$props.filterTable,keyword=_this$props.keyword,sort=_this$props.sort;//lọc \ntasks=tasks.filter(function(str){return str.name.toLowerCase().indexOf(filterTable.name.toLowerCase())>=0;});tasks=tasks.filter(function(task){if(filterTable.status===-1){return task;}else{return task.status===(filterTable.status===0?false:true);}});//sort\nif(sort!==''){if(sort==='az'){tasks.sort(function(a,b){return a.name.localeCompare(b.name);});}if(sort==='za'){tasks.sort(function(a,b){return b.name.localeCompare(a.name);});}if(sort==='kh'){tasks.sort(function(a,b){return b.status-a.status;});}if(sort==='a'){tasks.sort(function(a,b){return a.status-b.status;});}}//search\nif(keyword){tasks=tasks.filter(function(e){return e.name.toLowerCase().indexOf(keyword)!==-1;});}var elmTasks=tasks.map(function(task,index){return/*#__PURE__*/_jsx(Item,{index:index,task:task},task.id);});return/*#__PURE__*/_jsxs(\"table\",{className:\"table table-bordered table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"STT\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"T\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"H\\xE0nh \\u0111\\u1ED9ng\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",name:\"filterName\",value:filterName,onChange:function onChange(e){_this2.onChangeFillter(e);}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"select\",{id:\"inputState\",className:\"form-control\",name:\"filterStatus\",value:filterStatus,onChange:function onChange(e){_this2.onChangeFillter(e);},children:[/*#__PURE__*/_jsx(\"option\",{value:-1,children:\"T\\u1EA5t c\\u1EA3\"}),/*#__PURE__*/_jsx(\"option\",{value:0,children:\"\\u1EA8n\"}),/*#__PURE__*/_jsx(\"option\",{value:1,children:\"K\\xEDch ho\\u1EA1t\"})]})}),/*#__PURE__*/_jsx(\"td\",{})]}),elmTasks]})]});}}]);return Table;}(React.Component);var mapState=function mapState(state){return{tasks:state.tasks,filterTable:state.filterTable,keyword:state.search,sort:state.sort};};var mapDispatch=function mapDispatch(dispatch,props){return{onFilterTable:function onFilterTable(filter){dispatch(actions.filterTask(filter));}};};export default connect(mapState,mapDispatch)(Table);","map":{"version":3,"sources":["D:/Web/React/reactnew/src/component/todopro/table.js"],"names":["Item","React","connect","actions","Table","props","onChangeFillter","e","target","name","value","filter","state","filterName","status","filterStatus","onFilterTable","setState","tasks","filterTable","keyword","sort","str","toLowerCase","indexOf","task","a","b","localeCompare","elmTasks","map","index","id","Component","mapState","search","mapDispatch","dispatch","filterTask"],"mappings":"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","sourcesContent":["\r\nimport Item from \"./item\"\r\nimport React from \"react\"\r\nimport { connect } from 'react-redux'\r\nimport * as actions from '../../store/actions/index'\r\nclass Table extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            filterName: '',\r\n            filterStatus: -1\r\n        }\r\n    }\r\n    onChangeFillter = (e) => {\r\n        var target = e.target\r\n        var name = target.name\r\n        var value = target.value\r\n        var filter = {\r\n            name: name === 'filterName' ? value : this.state.filterName,\r\n            status: name === 'filterStatus' ? value : this.state.filterStatus\r\n        }\r\n        this.props.onFilterTable(filter)\r\n        this.setState({\r\n            [name]: value\r\n        })\r\n    }\r\n    render() {\r\n        var { filterName, filterStatus } = this.state\r\n        var { tasks, filterTable, keyword, sort } = this.props\r\n        //lọc \r\n        tasks = tasks.filter((str) => {\r\n            return str.name.toLowerCase().indexOf(filterTable.name.toLowerCase()) >= 0;\r\n        });\r\n        tasks = tasks.filter(task => {\r\n            if (filterTable.status === -1) {\r\n                return task\r\n            } else {\r\n                return task.status === (filterTable.status === 0 ? false : true)\r\n            }\r\n        })\r\n        //sort\r\n        if (sort !== '') {\r\n            if (sort === 'az') { tasks.sort((a, b) => a.name.localeCompare(b.name)) }\r\n            if (sort === 'za') { tasks.sort((a, b) => b.name.localeCompare(a.name)) }\r\n            if (sort === 'kh') { tasks.sort((a, b) => b.status - a.status) }\r\n            if (sort === 'a') { tasks.sort((a, b) => a.status - b.status) }\r\n        }\r\n        //search\r\n        if (keyword) {\r\n            tasks = tasks.filter(e => {\r\n                return e.name.toLowerCase().indexOf(keyword) !== -1\r\n            })\r\n        }\r\n        var elmTasks = tasks.map((task, index) => {\r\n            return <Item key=\r\n                {task.id}\r\n                index={index}\r\n                task={task}\r\n            />\r\n        })\r\n\r\n        return (\r\n            <table className=\"table table-bordered table-hover\">\r\n                <thead>\r\n                    <tr>\r\n                        <th className=\"text-center\">STT</th>\r\n                        <th className=\"text-center\">Tên</th>\r\n                        <th className=\"text-center\">Trạng thái</th>\r\n                        <th className=\"text-center\">Hành động</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td></td>\r\n                        <td><input type=\"text\" className=\"form-control\"\r\n                            name=\"filterName\"\r\n                            value={filterName}\r\n                            onChange={(e) => { this.onChangeFillter(e) }}\r\n                        /></td>\r\n                        <td>\r\n                            <select id=\"inputState\" className=\"form-control\"\r\n                                name=\"filterStatus\"\r\n                                value={filterStatus}\r\n                                onChange={(e) => { this.onChangeFillter(e) }}\r\n                            >\r\n                                <option value={-1}>Tất cả</option>\r\n                                <option value={0}>Ẩn</option>\r\n                                <option value={1}>Kích hoạt</option>\r\n                            </select>\r\n                        </td>\r\n                        <td></td>\r\n                    </tr>\r\n                    {elmTasks}\r\n                </tbody>\r\n\r\n            </table>\r\n        )\r\n    }\r\n}\r\nconst mapState = (state) => {\r\n    return {\r\n        tasks: state.tasks,\r\n        filterTable: state.filterTable,\r\n        keyword: state.search,\r\n        sort: state.sort\r\n    }\r\n}\r\nconst mapDispatch = (dispatch, props) => {\r\n    return {\r\n        onFilterTable: (filter) => {\r\n            dispatch(actions.filterTask(filter))\r\n        }\r\n    }\r\n}\r\nexport default connect(mapState, mapDispatch)(Table);"]},"metadata":{},"sourceType":"module"}